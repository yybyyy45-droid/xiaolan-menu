<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å°è“çš„é…’å•</title>
  <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    body {
      font-family: 'ZCOOL KuaiLe', 'Ma Shan Zheng', cursive;
      background: linear-gradient(170deg, #f7ead8 0%, #f0dcc4 30%, #ecdac6 60%, #e8ceaf 100%);
      color: #5a3e2b;
      min-height: 100vh;
      overflow-x: hidden
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background:
        radial-gradient(ellipse at 25% 75%, rgba(222, 168, 130, .18) 0%, transparent 55%),
        radial-gradient(ellipse at 75% 25%, rgba(240, 200, 160, .12) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 100%, rgba(210, 155, 110, .1) 0%, transparent 60%);
      pointer-events: none;
      z-index: 0
    }

    /* â”€â”€â”€ Title â”€â”€â”€ */
    .page-title {
      text-align: center;
      padding: 40px 20px 10px;
      position: relative;
      z-index: 1
    }

    .page-title h1 {
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 52px;
      color: #c4735a;
      letter-spacing: 4px;
      animation: titleIn .6s ease-out
    }

    .page-title h1 .accent {
      font-size: 62px;
      color: #d4634a
    }

    .page-title .sub {
      font-size: 14px;
      color: #b08970;
      margin-top: 6px;
      letter-spacing: 2px
    }

    @keyframes titleIn {
      0% {
        transform: scale(.6) rotate(-3deg);
        opacity: 0
      }

      100% {
        transform: scale(1) rotate(0);
        opacity: 1
      }
    }

    /* â”€â”€â”€ Menu Container (two-column like original image) â”€â”€â”€ */
    .menu {
      max-width: 820px;
      margin: 20px auto 0;
      padding: 0 16px 40px;
      display: flex;
      gap: 20px;
      position: relative;
      z-index: 1
    }

    .col-left,
    .col-right {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px
    }

    .col-right {
      padding-top: 50px
    }

    /* â”€â”€â”€ Individual Drink Item â”€â”€â”€ */
    .drink {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 14px 10px;
      border-radius: 12px;
      cursor: pointer;
      transition: all .3s;
      position: relative
    }

    /* Subtle organic offsets within each column */
    .col-left .drink:nth-child(1) {
      transform: translateX(2px)
    }

    .col-left .drink:nth-child(2) {
      transform: translateX(-4px)
    }

    .col-left .drink:nth-child(3) {
      transform: translateX(6px)
    }

    .col-left .drink:nth-child(4) {
      transform: translateX(-2px)
    }

    .col-left .drink:nth-child(5) {
      transform: translateX(4px)
    }

    .col-right .drink:nth-child(1) {
      transform: translateX(-3px)
    }

    .col-right .drink:nth-child(2) {
      transform: translateX(5px)
    }

    .col-right .drink:nth-child(3) {
      transform: translateX(-6px)
    }

    .col-right .drink:nth-child(4) {
      transform: translateX(3px)
    }

    .col-right .drink:nth-child(5) {
      transform: translateX(-4px)
    }

    .col-right .drink:nth-child(6) {
      transform: translateX(2px)
    }

    .drink:hover {
      background: rgba(232, 178, 152, .1);
      transform: translateX(3px) !important
    }

    .drink:hover .drink-glass {
      transform: rotate(-5deg) scale(1.08)
    }

    /* â”€â”€â”€ Uploaded Image â”€â”€â”€ */
    .drink-img {
      width: 60px;
      height: 72px;
      object-fit: contain;
      flex-shrink: 0;
      transition: transform .4s cubic-bezier(.4, 0, .2, 1);
      mix-blend-mode: multiply;
      filter: none
    }

    .drink:hover .drink-img {
      transform: rotate(-5deg) scale(1.08)
    }

    /* â”€â”€â”€ CSS Drink Glass Illustrations (fallback) â”€â”€â”€ */
    .drink-glass {
      width: 56px;
      height: 72px;
      position: relative;
      flex-shrink: 0;
      transition: transform .4s cubic-bezier(.4, 0, .2, 1);
      filter: drop-shadow(1px 2px 3px rgba(196, 115, 90, .15))
    }

    /* Glass base shapes */
    .glass-body {
      position: absolute;
      border-radius: 4px 4px 6px 6px;
      overflow: hidden;
      opacity: .85
    }

    .glass-body::after {
      content: '';
      position: absolute;
      top: 4px;
      left: 4px;
      width: 8px;
      height: 60%;
      background: rgba(255, 255, 255, .35);
      border-radius: 50%;
      transform: rotate(-10deg)
    }

    /* Tall glass */
    .tall .glass-body {
      width: 28px;
      height: 54px;
      bottom: 2px;
      left: 14px
    }

    .tall .glass-stem {
      display: none
    }

    /* Wine/stemmed glass */
    .stemmed .glass-body {
      width: 34px;
      height: 38px;
      top: 4px;
      left: 11px;
      border-radius: 50% 50% 8px 8px
    }

    .stemmed .glass-stem {
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 3px;
      height: 16px;
      background: #d4c4b0;
      transform: translateX(-50%);
      border-radius: 1px
    }

    .stemmed .glass-stem::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 18px;
      height: 3px;
      background: #d4c4b0;
      transform: translateX(-50%);
      border-radius: 2px
    }

    /* Short/rocks glass */
    .short .glass-body {
      width: 34px;
      height: 40px;
      bottom: 2px;
      left: 11px;
      border-radius: 2px 2px 4px 4px
    }

    .short .glass-stem {
      display: none
    }

    /* Garnishes */
    .garnish {
      position: absolute;
      z-index: 2
    }

    .garnish-strawberry {
      top: 0;
      right: 6px;
      font-size: 16px
    }

    .garnish-lemon {
      top: 2px;
      right: 4px;
      width: 14px;
      height: 14px;
      background: #f0d040;
      border-radius: 50%;
      border: 1.5px solid #e0b830;
      box-shadow: inset -2px -1px 0 rgba(0, 0, 0, .08)
    }

    .garnish-lime {
      top: 8px;
      right: 2px;
      width: 12px;
      height: 12px;
      background: #88c040;
      border-radius: 50%;
      border: 1.5px solid #70a830
    }

    .garnish-mint {
      top: -2px;
      left: 20px;
      font-size: 13px
    }

    .garnish-umbrella {
      top: -4px;
      right: 8px;
      font-size: 14px
    }

    .garnish-salt {
      position: absolute;
      top: 0;
      left: 11px;
      right: 11px;
      height: 3px;
      background: repeating-linear-gradient(90deg, rgba(255, 255, 255, .9) 0px, rgba(255, 255, 255, .9) 2px, transparent 2px, transparent 4px);
      border-radius: 1px
    }

    .garnish-ice {
      position: absolute;
      top: 12px;
      left: 18px;
      width: 10px;
      height: 8px;
      background: rgba(200, 230, 255, .5);
      border-radius: 2px;
      border: 1px solid rgba(180, 210, 240, .4)
    }

    /* Drink colors */
    .color-strawberry {
      background: linear-gradient(180deg, #f0a0b0 0%, #e88098 60%, #d06878 100%)
    }

    .color-sunset {
      background: linear-gradient(180deg, #f0c040 0%, #e89840 40%, #d06840 100%)
    }

    .color-lemon-tea {
      background: linear-gradient(180deg, #e0c070 0%, #c89848 100%)
    }

    .color-screwdriver {
      background: linear-gradient(180deg, #f0b840 0%, #e89030 100%)
    }

    .color-cola {
      background: linear-gradient(180deg, #5a3020 0%, #3a1810 100%)
    }

    .color-california {
      background: linear-gradient(180deg, #f0b840 0%, #e88830 80%)
    }

    .color-coconut {
      background: linear-gradient(180deg, #f8f0e0 0%, #e8dcc8 100%)
    }

    .color-sunset-ride {
      background: linear-gradient(180deg, #e8a040 0%, #d07030 100%)
    }

    .color-salty-dog {
      background: linear-gradient(180deg, #f0d088 0%, #e0b868 100%)
    }

    .color-miss-you {
      background: linear-gradient(180deg, #d8a8d0 0%, #c088b8 60%, #a870a0 100%)
    }

    .color-pina {
      background: linear-gradient(180deg, #f0e8a0 0%, #e0d070 50%, #c8b848 100%)
    }

    .color-mystery {
      background: linear-gradient(180deg, #88b8e8 0%, #6090d0 50%, #4870b0 100%)
    }

    /* â”€â”€â”€ Drink Info â”€â”€â”€ */
    .drink-info {
      flex: 1;
      min-width: 0
    }

    .drink-name {
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 22px;
      color: #5a3e2b;
      line-height: 1.2
    }

    .drink-stars {
      color: #d4634a;
      font-size: 12px;
      letter-spacing: 1px;
      margin-top: 1px
    }

    .drink-recipe {
      font-size: 12px;
      color: #b08970;
      margin-top: 4px;
      line-height: 1.5
    }

    .drink-unavailable {
      position: relative;
      opacity: .5
    }

    .drink-unavailable::after {
      content: 'âœ•';
      position: absolute;
      top: 0;
      right: 0;
      font-size: 20px;
      color: #c4735a;
      font-weight: bold
    }

    /* â”€â”€â”€ Expanded Detail (click to reveal) â”€â”€â”€ */
    .drink-detail {
      max-height: 0;
      overflow: hidden;
      transition: max-height .4s ease, opacity .3s;
      opacity: 0;
      font-size: 12px;
      color: #8a6a55;
      line-height: 1.6
    }

    .drink.expanded .drink-detail {
      max-height: 120px;
      opacity: 1;
      margin-top: 6px
    }

    .detail-tag {
      display: inline-block;
      font-size: 10px;
      padding: 2px 8px;
      border-radius: 10px;
      background: rgba(212, 99, 74, .1);
      color: #d4634a;
      margin-right: 4px;
      margin-top: 3px
    }

    /* â”€â”€â”€ Mystery Card â”€â”€â”€ */
    .drink.mystery {
      border: 1.5px dashed rgba(196, 115, 90, .35);
      border-radius: 14px;
      background: rgba(255, 248, 240, .6)
    }

    .mystery-qmark {
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 42px;
      color: #d4634a;
      width: 56px;
      text-align: center;
      flex-shrink: 0;
      animation: qPulse 2s ease-in-out infinite
    }

    @keyframes qPulse {

      0%,
      100% {
        transform: scale(1)
      }

      50% {
        transform: scale(1.12) rotate(5deg)
      }
    }

    /* â”€â”€â”€ Blind Box Overlay â”€â”€â”€ */
    .blindbox-overlay {
      position: fixed;
      inset: 0;
      z-index: 1000;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(40, 20, 10, .6);
      backdrop-filter: blur(8px)
    }

    .blindbox-overlay.active {
      display: flex
    }

    .blindbox-card {
      width: 280px;
      padding: 36px 28px;
      background: #fdf6ee;
      border-radius: 20px;
      text-align: center;
      position: relative;
      overflow: hidden
    }

    .blindbox-card.shaking {
      animation: boxShake .5s ease-in-out 3
    }

    .blindbox-card.revealing {
      animation: boxReveal .6s ease-out forwards
    }

    @keyframes boxShake {

      0%,
      100% {
        transform: translateX(0) rotate(0)
      }

      20% {
        transform: translateX(-12px) rotate(-4deg)
      }

      40% {
        transform: translateX(10px) rotate(3deg)
      }

      60% {
        transform: translateX(-8px) rotate(-2deg)
      }

      80% {
        transform: translateX(6px) rotate(1deg)
      }
    }

    @keyframes boxReveal {
      0% {
        transform: scale(1)
      }

      40% {
        transform: scale(1.15)
      }

      100% {
        transform: scale(1)
      }
    }

    .blindbox-title {
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 28px;
      color: #c4735a;
      margin-bottom: 8px
    }

    .blindbox-emoji {
      font-size: 64px;
      margin: 16px 0;
      transition: transform .3s
    }

    .blindbox-desc {
      font-size: 14px;
      color: #8a6a55;
      line-height: 1.6;
      margin-top: 8px
    }

    .blindbox-close {
      margin-top: 20px;
      padding: 8px 28px;
      border: 1.5px solid rgba(196, 115, 90, .3);
      border-radius: 20px;
      background: transparent;
      color: #c4735a;
      font-size: 13px;
      font-family: inherit;
      cursor: pointer;
      transition: all .2s
    }

    .blindbox-close:hover {
      background: rgba(196, 115, 90, .1)
    }

    /* Confetti */
    .confetti {
      position: absolute;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      pointer-events: none;
      animation: confettiFall 1.5s ease-out forwards
    }

    @keyframes confettiFall {
      0% {
        opacity: 1;
        transform: translateY(0) rotate(0) scale(1)
      }

      100% {
        opacity: 0;
        transform: translateY(120px) rotate(720deg) scale(0)
      }
    }

    /* â”€â”€â”€ Footer â”€â”€â”€ */
    .footer {
      text-align: center;
      padding: 20px 20px 40px;
      color: #c4a88a;
      font-size: 12px;
      position: relative;
      z-index: 1
    }

    .footer .heart {
      color: #d4634a;
      display: inline-block;
      animation: heartbeat 1.5s ease-in-out infinite
    }

    @keyframes heartbeat {

      0%,
      100% {
        transform: scale(1)
      }

      15% {
        transform: scale(1.2)
      }

      30% {
        transform: scale(1)
      }

      45% {
        transform: scale(1.1)
      }
    }

    /* â”€â”€â”€ Bubble on click â”€â”€â”€ */
    .bubble {
      position: fixed;
      pointer-events: none;
      z-index: 100;
      font-size: 22px;
      animation: bubbleUp 1s ease-out forwards
    }

    @keyframes bubbleUp {
      0% {
        opacity: 1;
        transform: translateY(0) scale(1)
      }

      100% {
        opacity: 0;
        transform: translateY(-70px) scale(1.3)
      }
    }

    /* â”€â”€â”€ Responsive â”€â”€â”€ */
    @media(max-width:600px) {
      .menu {
        flex-direction: column
      }

      .col-right {
        padding-top: 0
      }

      .page-title h1 {
        font-size: 38px
      }

      .page-title h1 .accent {
        font-size: 46px
      }
    }
  </style>
</head>

<body>

  <div class="page-title">
    <h1>å°è“çš„<span class="accent">é…’å•</span></h1>
    <div class="sub">ğŸ¹ ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… Â· å°è“ç‰¹è°ƒæœ‰æƒŠå–œ ğŸ¹</div>
  </div>

  <div class="menu" id="menu">
    <div class="col-left" id="col-left"></div>
    <div class="col-right" id="col-right"></div>
  </div>

  <!-- Mystery Drink (full-width, bottom) -->
  <div id="mystery-section" style="max-width:820px;margin:10px auto 0;padding:0 16px;position:relative;z-index:1"></div>

  <!-- Blind Box Overlay -->
  <div class="blindbox-overlay" id="blindbox">
    <div class="blindbox-card" id="blindbox-card">
      <div class="blindbox-title" id="bb-title">å¼€ç›²ç›’ä¸­...</div>
      <div class="blindbox-emoji" id="bb-emoji">ğŸ</div>
      <div class="blindbox-desc" id="bb-desc">æ‘‡ä¸€æ‘‡ï¼Œçœ‹çœ‹ä»Šå¤©å°è“ç»™ä½ è°ƒäº†ä»€ä¹ˆ</div>
      <button class="blindbox-close" id="bb-close" style="display:none">å†æ¥ä¸€æ¯ ğŸ¹</button>
    </div>
  </div>

  <div class="footer">
    ç”¨ <span class="heart">â™¥</span> è°ƒåˆ¶ Â· å°è“çš„æ·±å¤œé…’å§ Â· è¯·é€‚é‡é¥®ç”¨ ğŸŒ™
  </div>

  <script>
    /* â”€â”€â”€ Drink Data (matching original image layout: left col then right col) â”€â”€â”€ */
    const LEFT = [
      {
        name: "è‰è“ä¹³é…¸èŒ", imgId: "caomei", glass: "stemmed", color: "color-strawberry", garnish: "strawberry",
        recipe: "ä¼ç‰¹åŠ  + è‰è“æ± + å…»ä¹å¤š", detail: "ç”œç”œçš„å°‘å¥³é£ï¼Œè‰è“é‡ä¸Šå…»ä¹å¤šçš„é…¸ç”œç¢°æ’ï¼Œå…¥å£ä¸æ»‘", tags: ["ç”œå£", "å°‘å¥³ç³»", "å…¥é—¨æ¬¾"], emoji: "ğŸ“"
      },
      {
        name: "ç»å¯¹æ—¥è½", imgId: "riluo", glass: "tall", color: "color-sunset", garnish: "none",
        recipe: "ä¼ç‰¹åŠ  + æ©™æ± + è‘¡è„æ±½æ³¡æ°´", detail: "å¤•é˜³èˆ¬çš„æ¸å˜è‰²æ³½ï¼Œæ©™æ±æ¸…ç”œåŠ ä¸Šæ°”æ³¡è·³è·ƒæ„Ÿ", tags: ["æ¸…çˆ½", "é¢œå€¼é«˜"], emoji: "ğŸŒ…"
      },
      {
        name: "æŸ æª¬çº¢èŒ¶", imgId: "ningmeng", glass: "tall", color: "color-lemon-tea", garnish: "lemon",
        recipe: "ä¼ç‰¹åŠ  + æŸ æª¬èŒ¶ + æŸ æª¬", detail: "ä¸‹åˆèŒ¶ç»å…¸æ­é…ï¼ŒæŸ æª¬çš„é…¸ä¸çº¢èŒ¶çš„ç”˜å®Œç¾èåˆ", tags: ["èŒ¶å‘³", "ç™¾æ­"], emoji: "ğŸ‹"
      },
      {
        name: "èºä¸èµ·å­", imgId: "luosi", glass: "tall", color: "color-screwdriver", garnish: "mint",
        recipe: "ä¼ç‰¹åŠ  + æ©™æ± + è–„è·å¶", detail: "é¸¡å°¾é…’å…¥é—¨å¿…å–æ¬¾ï¼Œè–„è·å¶å¸¦æ¥æ¸…æ–°ç‚¹ç¼€", tags: ["ç»å…¸", "å…¥é—¨"], emoji: "ğŸŠ"
      },
      {
        name: "è‡ªç”±å¤å·´", imgId: "guba", glass: "tall", color: "color-cola", garnish: "lime",
        recipe: "ç™½æœ—å§† + å¯ä¹ + æŸ æª¬æ±", detail: "æœ—å§†é…’çš„ç”˜è”—ç”œä¸å¯ä¹ç¢°æ’ï¼ŒæŸ æª¬æ±æäº®", tags: ["ç»å…¸", "æ´¾å¯¹"], emoji: "ğŸ‡¨ğŸ‡º"
      },
      {
        name: "æ¤°æ—é£˜é¦™", imgId: "yelin", glass: "short", color: "color-pina", garnish: "umbrella",
        recipe: "ç™½æœ—å§† + æ¤°å­é…’ + è èæ± + æ¤°å¥¶ + æ¤°æœ", detail: "ä¸€æ¯æ„Ÿå—æµ·å²›åº¦å‡ï¼Œæµ“éƒæ¤°å­é£å‘³æ­é…çƒ­å¸¦è è", tags: ["çƒ­å¸¦", "åº¦å‡é£"], emoji: "ğŸï¸"
      }
    ];

    const MYSTERY = { name: "å°è“ç‰¹è°ƒ", imgId: "xiaolan", mystery: true, recipe: "??????", emoji: "â“" };

    const RIGHT = [
      {
        name: "åŠ å·ä¹‹æ‹", imgId: "jiazhou", glass: "short", color: "color-california", garnish: "none",
        recipe: "ç™½æœ—å§† + æ©™æ± + è‘¡è„æ±½æ°´", detail: "é˜³å…‰åŠ å·çš„å‘³é“ï¼Œæ©™æ±çƒ­æƒ…ä¸æ±½æ°´æ´»åŠ›å®Œç¾ç»„åˆ", tags: ["é˜³å…‰", "è½»å¿«"], emoji: "â˜€ï¸"
      },
      {
        name: "æ¤°æ±ç™½æœ—å§†", imgId: "yezhi", glass: "short", color: "color-coconut", garnish: "lemon",
        recipe: "ç™½æœ—å§† + æ¤°æ± + æŸ æª¬", detail: "æ¤°æ±çš„æ¸…ç”œä¸æœ—å§†é…’çš„ç”˜é¦™å®Œç¾èåˆ", tags: ["çƒ­å¸¦"], emoji: "ğŸ¥¥"
      },
      {
        name: "è½æ—¥é£è½¦", imgId: "luori", glass: "short", color: "color-sunset-ride", garnish: "ice", stars: 3,
        recipe: "ç™½æœ—å§† + æ©™æ± + è‘¡è„æ±½æ°´", detail: "ä¹é˜ŸåŒåé…’ï¼Œæ©™çº¢è½æ—¥å…¬è·¯æ„Ÿï¼Œé€‚åˆæ”¾ç€chill musicæ…¢å“", tags: ["Chill", "æ–‡è‰º"], emoji: "ğŸš—"
      },
      {
        name: "å’¸ç‹—", imgId: "xiangou", glass: "short", color: "color-salty-dog", garnish: "salt", stars: 2,
        recipe: "ä¼ç‰¹åŠ  + æ°´èœœC + ç›è¾¹", detail: "æ¯å£ç›è¾¹æ˜¯çµé­‚ï¼å’¸ç”œäº¤ç»‡çš„å¾®é†ºä¹‹å¤œ", tags: ["å’¸ç”œ", "ç‰¹åˆ«"], emoji: "ğŸ•"
      },
      {
        name: "æƒ³è§ä½ ", imgId: "xiangjian", glass: "stemmed", color: "color-miss-you", garnish: "none", stars: 3,
        recipe: "ä¼ç‰¹åŠ  + æ°´èœœC + è‘¡è„æ±½æ³¡æ°´", detail: "æ·¡ç´«è‰²æµªæ¼«ï¼Œæ°”æ³¡å‡èµ·æ—¶ä»¿ä½›å¿ƒåŠ¨çš„æ„Ÿè§‰", tags: ["æµªæ¼«", "æ¨è"], emoji: "ğŸ’Œ"
      }
    ];

    /* â”€â”€â”€ Render Drink Image (try user-uploaded first, CSS fallback) â”€â”€â”€ */
    function renderGlass(d) {
      if (d.mystery) return `<div class="mystery-qmark">ï¼Ÿ</div>`;
      // Try user-uploaded image from img/ folder
      const fallbackCSS = buildCSSGlass(d);
      if (d.imgId) {
        return `<img class="drink-img" src="img/${d.imgId}.png"
          onerror="this.style.display='none';this.nextElementSibling.style.display='block'"
          alt="${d.name}"><div style="display:none">${fallbackCSS}</div>`;
      }
      return fallbackCSS;
    }

    function buildCSSGlass(d) {
      let garnishHTML = '';
      if (d.garnish === 'strawberry') garnishHTML = '<div class="garnish garnish-strawberry">ğŸ“</div>';
      else if (d.garnish === 'lemon') garnishHTML = '<div class="garnish garnish-lemon"></div>';
      else if (d.garnish === 'lime') garnishHTML = '<div class="garnish garnish-lime"></div>';
      else if (d.garnish === 'mint') garnishHTML = '<div class="garnish garnish-mint">ğŸŒ¿</div>';
      else if (d.garnish === 'umbrella') garnishHTML = '<div class="garnish garnish-umbrella">â˜‚ï¸</div>';
      else if (d.garnish === 'salt') garnishHTML = '<div class="garnish-salt"></div>';
      else if (d.garnish === 'ice') garnishHTML = '<div class="garnish-ice"></div>';
      return `<div class="drink-glass ${d.glass}">${garnishHTML}<div class="glass-body ${d.color}"></div>${d.glass === 'stemmed' ? '<div class="glass-stem"></div>' : ''}</div>`;
    }

    /* â”€â”€â”€ Render One Drink â”€â”€â”€ */
    function renderDrink(d, idx) {
      const cls = ['drink'];
      if (d.mystery) cls.push('mystery');
      if (d.unavailable) cls.push('drink-unavailable');
      const starsHTML = d.stars ? `<div class="drink-stars">${'â˜…'.repeat(d.stars)}${'â˜†'.repeat(3 - d.stars)}</div>` : '';
      const detailHTML = d.detail ? `<div class="drink-detail"><p>${d.detail}</p><div>${(d.tags || []).map(t => `<span class="detail-tag">${t}</span>`).join('')}</div></div>` : '';
      return `<div class="${cls.join(' ')}" data-idx="${idx}" data-mystery="${d.mystery || false}" style="animation:cardFadeIn .4s ${idx * 0.06}s ease-out both">${renderGlass(d)}<div class="drink-info"><div class="drink-name">${d.name}</div>${starsHTML}<div class="drink-recipe">${d.recipe}</div>${detailHTML}</div></div>`;
    }

    /* â”€â”€â”€ Build Menu (separate columns like original) â”€â”€â”€ */
    const menu = document.getElementById('menu');
    const colLeft = document.getElementById('col-left');
    const colRight = document.getElementById('col-right');

    let leftHTML = '';
    LEFT.forEach((d, i) => { leftHTML += renderDrink(d, i); });
    colLeft.innerHTML = leftHTML;

    let rightHTML = '';
    RIGHT.forEach((d, i) => { rightHTML += renderDrink(d, i + LEFT.length); });
    colRight.innerHTML = rightHTML;

    /* â”€â”€â”€ Mystery drink (full-width bottom section) â”€â”€â”€ */
    const mysterySection = document.getElementById('mystery-section');
    mysterySection.innerHTML = renderDrink(MYSTERY, LEFT.length + RIGHT.length);

    /* Add fadeIn keyframe dynamically */
    const style = document.createElement('style');
    style.textContent = '@keyframes cardFadeIn{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}';
    document.head.appendChild(style);

    /* â”€â”€â”€ Click Handlers (menu + mystery section) â”€â”€â”€ */
    function handleDrinkClick(e) {
      const card = e.target.closest('.drink');
      if (!card) return;
      if (card.classList.contains('drink-unavailable')) return;

      // Mystery = blind box
      if (card.dataset.mystery === 'true') {
        openBlindBox(e);
        return;
      }

      // Toggle expand
      const wasExpanded = card.classList.contains('expanded');
      document.querySelectorAll('.drink.expanded').forEach(c => c.classList.remove('expanded'));
      if (!wasExpanded) card.classList.add('expanded');

      // Spawn emoji bubble
      const d = [...LEFT, ...RIGHT].find(d => card.querySelector('.drink-name')?.textContent === d.name);
      if (d) spawnBubble(e.clientX, e.clientY, d.emoji);
    }
    menu.addEventListener('click', handleDrinkClick);
    mysterySection.addEventListener('click', handleDrinkClick);

    function spawnBubble(x, y, emoji) {
      const el = document.createElement('div');
      el.className = 'bubble';
      el.textContent = emoji;
      el.style.left = (x - 11) + 'px';
      el.style.top = (y - 11) + 'px';
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 1000);
    }

    /* â”€â”€â”€ Blind Box â”€â”€â”€ */
    const MYSTERY_POOL = [
      {
        name: "å½©è™¹å¥‡è¿¹", emoji: "ğŸŒˆ", desc: "ä¸ƒç§çƒˆé…’çš„å½©è™¹åˆ†å±‚ï¼Œé¢œå€¼çˆ†è¡¨ï¼Œä¸€å£ä¸€ä¸ªé¢œè‰²",
        recipe: "ä¼ç‰¹åŠ Â·è“æŸ‘æ©˜Â·çŸ³æ¦´ç³–æµ†Â·æ©™æ±Â·è èæ±Â·å†°å—", method: "æŒ‰å¯†åº¦ä»é‡åˆ°è½»ä¾æ¬¡ç¼“å€’å…¥æ¯ï¼Œå½¢æˆå½©è™¹åˆ†å±‚"
      },
      {
        name: "æ·±æµ·ä¹‹è°œ", emoji: "ğŸŒŠ", desc: "åœ¨å˜´é‡Œç‚¸å¼€çš„æ·±æµ·æ³¡æ³¡",
        recipe: "è“æŸ‘æ©˜é…’Â·è‹æ‰“æ°´Â·è·³è·³ç³–Â·é’æŸ æ±", method: "è“æŸ‘æ©˜é…’åŠ å†°æ‘‡åŒ€ï¼Œå€’å…¥è‹æ‰“æ°´ï¼Œè¡¨é¢æ’’è·³è·³ç³–"
      },
      {
        name: "æ¨±èŠ±å¾®é†º", emoji: "ğŸŒ¸", desc: "ç²‰ç²‰çš„æ˜¥æ—¥é™å®š",
        recipe: "æ¸…é…’Â·ç«ç‘°ç³–æµ†Â·æŸ æª¬æ±Â·æ°”æ³¡æ°´", method: "æ¸…é…’+ç«ç‘°ç³–æµ†æ‘‡åŒ€è¿‡æ»¤ï¼ŒåŠ æŸ æª¬æ±ï¼Œæ³¨å…¥æ°”æ³¡æ°´"
      },
      {
        name: "åˆå¤œè¡—ç¯", emoji: "ğŸŒ™", desc: "æ·±å¤œæœ€ä½³æ‹æ¡£",
        recipe: "ç™¾åˆ©ç”œÂ·æµ“ç¼©å’–å•¡Â·å¯å¯ç²‰Â·å†°å—", method: "ç™¾åˆ©ç”œå’Œæµ“ç¼©å’–å•¡åŠ å†°æ‘‡åŒ€ï¼Œæ»¤å…¥æ¯ä¸­ï¼Œæ’’å¯å¯ç²‰"
      },
      {
        name: "è¥¿ç“œå†°æ²™", emoji: "ğŸ‰", desc: "å¤æ—¥æ¶ˆæš‘ç¥å™¨",
        recipe: "ä¼ç‰¹åŠ Â·é²œæ¦¨è¥¿ç“œæ±Â·ç¢å†°Â·è–„è·å¶", method: "è¥¿ç“œæ±ä¸ä¼ç‰¹åŠ åŠ ç¢å†°ç”¨æ…æ‹Œæœºæ‰“æˆå†°æ²™ï¼Œè–„è·è£…é¥°"
      },
      {
        name: "ç«ç„°çƒ­æƒ…", emoji: "ğŸ”¥", desc: "è¾£åˆ°é£èµ·ä½†å¾ˆä¸Šå¤´",
        recipe: "é¾™èˆŒå…°Â·è¾£æ¤’æ°´Â·é’æŸ æ±Â·ç›è¾¹", method: "æ¯å£æŠ¹ç›è¾¹ï¼Œé¾™èˆŒå…°+è¾£æ¤’æ°´+é’æŸ æ±åŠ å†°æ‘‡åŒ€"
      },
      {
        name: "æ£‰èŠ±ç³–ä¹‹æ¢¦", emoji: "â˜ï¸", desc: "ä¼šå˜è‰²çš„å°‘å¥³å¿ƒ",
        recipe: "æœ—å§†é…’Â·æ£‰èŠ±ç³–Â·è¶è±†èŠ±æ°´Â·æŸ æª¬æ±", method: "è¶è±†èŠ±æ°´+æœ—å§†é…’è°ƒè“è‰²åŸºåº•ï¼ŒåŠ æŸ æª¬æ±å˜ç´«ï¼Œæ”¾æ£‰èŠ±ç³–"
      },
      {
        name: "æ—¶é—´åœæ­¢", emoji: "â°", desc: "è®©æ—¶é—´æ…¢ä¸‹æ¥",
        recipe: "èŠåå£«Â·èœ‚èœœÂ·æŸ æª¬æ±Â·è¿·è¿­é¦™", method: "èŠåå£«+èœ‚èœœ+æŸ æª¬æ±åŠ å†°æ‘‡åŒ€ï¼Œè¿·è¿­é¦™ç‚¹ç«åç›–æ¯å£"
      }
    ];

    const overlay = document.getElementById('blindbox');
    const bbCard = document.getElementById('blindbox-card');
    const bbTitle = document.getElementById('bb-title');
    const bbEmoji = document.getElementById('bb-emoji');
    const bbDesc = document.getElementById('bb-desc');
    const bbClose = document.getElementById('bb-close');

    function openBlindBox(e) {
      overlay.classList.add('active');
      bbCard.className = 'blindbox-card shaking';
      bbTitle.textContent = 'ğŸ å¼€ç›²ç›’ä¸­...';
      bbEmoji.textContent = 'ğŸ';
      bbEmoji.style.transform = '';
      bbDesc.innerHTML = 'æ‘‡ä¸€æ‘‡ï¼Œçœ‹çœ‹ä»Šå¤©å°è“ç»™ä½ è°ƒäº†ä»€ä¹ˆ';
      bbClose.style.display = 'none';

      // After shaking, reveal
      setTimeout(() => {
        const pick = MYSTERY_POOL[Math.floor(Math.random() * MYSTERY_POOL.length)];
        bbCard.className = 'blindbox-card revealing';
        bbTitle.textContent = `âœ¨ ${pick.name} âœ¨`;
        bbEmoji.textContent = pick.emoji;
        bbEmoji.style.transform = 'scale(1.2)';
        bbDesc.innerHTML = `<div style="margin-bottom:8px">${pick.desc}</div><div style="font-size:12px;color:#b08970;text-align:left;margin-top:6px"><div style="margin-bottom:4px"><b style="color:#c4735a">ğŸ§ª åŸæ–™ï¼š</b>${pick.recipe}</div><div><b style="color:#c4735a">ğŸ“ åšæ³•ï¼š</b>${pick.method}</div></div>`;
        bbClose.style.display = 'inline-block';
        spawnConfetti();
      }, 1800);
    }

    function spawnConfetti() {
      const colors = ['#d4634a', '#e8a040', '#88c040', '#6090d0', '#d8a8d0', '#f0d040'];
      for (let i = 0; i < 20; i++) {
        const dot = document.createElement('div');
        dot.className = 'confetti';
        dot.style.background = colors[Math.floor(Math.random() * colors.length)];
        dot.style.left = (30 + Math.random() * 220) + 'px';
        dot.style.top = (20 + Math.random() * 60) + 'px';
        dot.style.animationDelay = (Math.random() * 0.5) + 's';
        dot.style.width = (4 + Math.random() * 6) + 'px';
        dot.style.height = dot.style.width;
        bbCard.appendChild(dot);
        setTimeout(() => dot.remove(), 2000);
      }
    }

    bbClose.addEventListener('click', (e) => {
      e.stopPropagation();
      // Re-trigger
      bbCard.className = 'blindbox-card shaking';
      bbTitle.textContent = 'ğŸ å†æ¥ä¸€æ¬¡...';
      bbEmoji.textContent = 'ğŸ';
      bbEmoji.style.transform = '';
      bbDesc.innerHTML = 'æ‘‡ä¸€æ‘‡~';
      bbClose.style.display = 'none';
      setTimeout(() => {
        const pick = MYSTERY_POOL[Math.floor(Math.random() * MYSTERY_POOL.length)];
        bbCard.className = 'blindbox-card revealing';
        bbTitle.textContent = `âœ¨ ${pick.name} âœ¨`;
        bbEmoji.textContent = pick.emoji;
        bbEmoji.style.transform = 'scale(1.2)';
        bbDesc.innerHTML = `<div style="margin-bottom:8px">${pick.desc}</div><div style="font-size:12px;color:#b08970;text-align:left;margin-top:6px"><div style="margin-bottom:4px"><b style="color:#c4735a">ğŸ§ª åŸæ–™ï¼š</b>${pick.recipe}</div><div><b style="color:#c4735a">ğŸ“ åšæ³•ï¼š</b>${pick.method}</div></div>`;
        bbClose.style.display = 'inline-block';
        spawnConfetti();
      }, 1800);
    });

    overlay.addEventListener('click', (e) => {
      if (e.target === overlay) overlay.classList.remove('active');
    });
  </script>
</body>

</html>